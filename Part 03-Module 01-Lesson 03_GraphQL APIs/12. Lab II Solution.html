<!-- udacimak v1.4.4 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Lab II: Solution</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>GraphQL APIs</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Introduction.html">01. Introduction</a>
    </li>
    <li class="">
      <a href="02. Overview.html">02. Overview</a>
    </li>
    <li class="">
      <a href="03. Schemas.html">03. Schemas</a>
    </li>
    <li class="">
      <a href="04. Operations.html">04. Operations</a>
    </li>
    <li class="">
      <a href="05. GraphiQL.html">05. GraphiQL</a>
    </li>
    <li class="">
      <a href="06. Case Study Steps.html">06. Case Study: Steps</a>
    </li>
    <li class="">
      <a href="07. Case Study Bootstrap &amp; Configure.html">07. Case Study: Bootstrap &amp; Configure</a>
    </li>
    <li class="">
      <a href="08. Lab I Build a Dog GraphQL API (Set Up).html">08. Lab I: Build a Dog GraphQL API (Set Up)</a>
    </li>
    <li class="">
      <a href="09. Lab I Solution.html">09. Lab I: Solution</a>
    </li>
    <li class="">
      <a href="10. Case Study Schema Creation.html">10. Case Study: Schema Creation</a>
    </li>
    <li class="">
      <a href="11. Lab II Build a Dog GraphQL API (Schema).html">11. Lab II: Build a Dog GraphQL API (Schema)</a>
    </li>
    <li class="">
      <a href="12. Lab II Solution.html">12. Lab II: Solution</a>
    </li>
    <li class="">
      <a href="13. Case Study Queries &amp; Mutations.html">13. Case Study: Queries &amp; Mutations</a>
    </li>
    <li class="">
      <a href="14. Case Study Exception Handling.html">14. Case Study: Exception Handling</a>
    </li>
    <li class="">
      <a href="15. Lab III Build a Dog GraphQL API (Queries &amp; Exceptions).html">15. Lab III: Build a Dog GraphQL API (Queries &amp; Exceptions)</a>
    </li>
    <li class="">
      <a href="16. Lab III Solution.html">16. Lab III: Solution</a>
    </li>
    <li class="">
      <a href="17. Case Study Testing.html">17. Case Study: Testing</a>
    </li>
    <li class="">
      <a href="18. Case Study GraphiQL.html">18. Case Study: GraphiQL</a>
    </li>
    <li class="">
      <a href="19. Lab IV Build a Dog GraphQL API (Testing).html">19. Lab IV: Build a Dog GraphQL API (Testing)</a>
    </li>
    <li class="">
      <a href="20. Lab IV Solution.html">20. Lab IV: Solution</a>
    </li>
    <li class="">
      <a href="21. Recap.html">21. Recap</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">12. Lab II: Solution</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="solution-build-a-dog-graphql-api---schema">Solution: Build a Dog GraphQL API - Schema</h1>
<p>Below, we'll walk through each step of the lab and look at one potential way to implement the lab. Even if you get stuck, you should always first try to work through the lab without the solution before coming here, so that you can best learn the related skills and be ready for the project at the end of the course.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="step-1-create-an-entity-called-dog"><strong>Step 1</strong>: Create an entity called Dog.</h2>
<ul>
<li>The dog should have three attributes:<ul>
<li>Name</li>
<li>Breed</li>
<li>Origin</li></ul></li>
</ul>
<p>You can re-use your code from the REST API for the <code>Dog</code> entity, just make sure to update the package name accordingly!</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="step-2-create-a-graphql-schema"><strong>Step 2</strong>: Create a GraphQL schema.</h2>
<ul>
<li>The schema should match the fields found in the Dog entity.</li>
<li>Add the following query operations:<ul>
<li>findDogBreeds</li>
<li>findDogBreedById</li>
<li>findAllDogNames</li></ul></li>
<li>Add the following mutators:<ul>
<li>deleteDogBreed</li>
<li>updateDogName</li></ul></li>
</ul>
<p>Following the video, create a <code>graphql</code> package within the <code>resources</code> directory of the project. Within that package, add a <code>dog.graphqls</code> file (you can add as a text file in IntelliJ if you do not have the GraphQL plug-in yet). </p>
<pre><code>type Dog {
    id: ID!
    name: String!
    breed: String!
    origin: String!
}

type Query {
    findAllDogs: [Dog]!
    findDogById(id:ID!): Dog!
}

type Mutation {
    deleteDogBreed(breed:String!) : Boolean
    updateDogName(newName: String!, id:ID!) : Dog!
}</code></pre>
<p>Now, you may be thinking I did not actually implement the query operations that were requested. But wait - using GraphQL, the user will be able to specify which fields they want from a query. So, simply by adding the queries for find all dogs (where they can request only breed, or only names), and finding a dog by id (where they can request just the breed), these operations actually exist.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="step-3-create-a-repository-that-extends-crudrepository"><strong>Step 3</strong>: Create a repository that extends CrudRepository.</h2>
<ul>
<li>This repository is for creating, reading, updating, and deleting Dog objects.</li>
</ul>
<p>Depending on how you implemented your <code>DogRepository</code> for the REST API, you may be able to completely re-use your code here. I actually chose to completely remove any queries from within the <code>DogRepository</code>, as there are already built-in methods for a <code>CrudRepository</code> that <code>findAll</code> and <code>findById</code>.</p>
<pre><code class="java language-java">package com.udacity.DogGraphQL.repository;

import com.udacity.DogGraphQL.entity.Dog;
import org.springframework.data.repository.CrudRepository;

public interface DogRepository extends CrudRepository&lt;Dog, Long&gt; {
}</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="what-about-the-service-and-controller">What about the service and controller?</h2>
<p>We don't need these to implement a GraphQL API. If you still want to have a REST API available, you can add those files to the application as well, and the same endpoints as before will be available.</p>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="13. Case Study Queries &amp; Mutations.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://github.com/udacimak/udacimak#readme" target="_blank">udacimak v1.4.4</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('12. Lab II: Solution')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
